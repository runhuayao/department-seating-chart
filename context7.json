{
  "$schema": "https://context7.com/schema/context7.json",
  "projectTitle": "部门地图系统 (Department Map System)",
  "description": "基于React + TypeScript + Node.js的企业部门地图管理系统，支持员工工位管理、实时数据同步、PostgreSQL数据库和Redis缓存",
  "folders": [
    "src",
    "api",
    "shared",
    "docs",
    ".trae/documents"
  ],
  "excludeFolders": [
    "node_modules",
    "dist",
    "build",
    ".git",
    "deprecated",
    "temp*",
    "Redis",
    "migrations",
    "supabase/migrations",
    "test",
    "tests",
    "monitoring"
  ],
  "excludeFiles": [
    "*.log",
    "*.exe",
    "*.msi",
    "*.zip",
    "*.dll",
    "*.pdb",
    "dump.rdb",
    "pgpass.txt",
    "*.ps1",
    "package-lock.json"
  ],
  "rules": [
    "使用TypeScript进行类型安全的开发",
    "遵循React Hooks最佳实践",
    "使用PostgreSQL作为主数据库，内存数据库作为备用",
    "实现Redis缓存机制提升性能",
    "采用Express.js构建RESTful API",
    "使用WebSocket实现实时数据同步",
    "遵循Git版本管理规范，使用语义化版本控制",
    "保持代码模块化和可维护性",
    "实现完善的错误处理和日志记录",
    "确保API安全性，使用JWT认证和频率限制"
  ],
  "previousVersions": [
    {
      "tag": "v3.1.1_database_auth_fixes",
      "title": "v3.1.1 数据库模型和认证系统修复"
    },
    {
      "tag": "v3.1.0",
      "title": "v3.1.0 功能完善版本"
    },
    {
      "tag": "v3.0.0",
      "title": "v3.0.0 重大架构升级"
    }
  ],
  "contextPreservation": {
    "keyComponents": [
      "前端React应用 (src/App.tsx, src/components/)",
      "后端API服务 (api/server.ts, api/routes/)",
      "数据库模型 (api/models/database.ts)",
      "认证中间件 (api/middleware/auth.ts)",
      "WebSocket服务 (api/websocket/)",
      "类型定义 (shared/types.ts)"
    ],
    "criticalIssues": [
      "Playwright浏览器版本不匹配问题 - 已解决",
      "API连接500错误和JSON解析失败 - 已修复",
      "前端控制台日志错误 - 已解决",
      "登录功能异常状态 - 已修复",
      "DeptMap组件架构限制 - 已禁用并替换"
    ],
    "developmentEnvironment": {
      "frontend": "React + TypeScript + Vite (端口5173)",
      "backend": "Node.js + Express + TypeScript (端口8080)",
      "database": "PostgreSQL (主) + 内存数据库 (备用)",
      "cache": "Redis (端口6379)",
      "tools": "Git版本管理, Context7上下文保留"
    },
    "recentChanges": [
      "实现基于Figma设计规范的前端重构",
      "创建SeatingChart和FigmaSeatingEditor组件",
      "禁用DeptMap组件，使用现代化架构",
      "修复Playwright自动化测试工具",
      "解决登录功能异常和API连接问题",
      "集成MockAuthProvider和错误处理机制",
      "完成Figma Community模板的完整实现",
      "建立Context7问题处理文档系统"
    ]
  }
}