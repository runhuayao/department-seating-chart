# éƒ¨é—¨åœ°å›¾é¡¹ç›® (Department Map System)

ä¸€ä¸ªåŸºäºReact + TypeScript + Expressçš„éƒ¨é—¨åœ°å›¾å¯è§†åŒ–ç³»ç»Ÿï¼Œç”¨äºå®æ—¶æ˜¾ç¤ºå‘˜å·¥å·¥ä½åˆ†å¸ƒå’Œåœ¨çº¿çŠ¶æ€ã€‚

## ğŸš€ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®å®ç°äº†ä¸€ä¸ªäº¤äº’å¼çš„éƒ¨é—¨åœ°å›¾ç³»ç»Ÿï¼Œæ”¯æŒï¼š
- 2Dåœ°å›¾å¯è§†åŒ–æ˜¾ç¤ºéƒ¨é—¨å¸ƒå±€
- å®æ—¶å‘˜å·¥å·¥ä½çŠ¶æ€ç›‘æ§
- äº¤äº’å¼åœ°å›¾ç¼©æ”¾å’Œå¹³ç§»
- å‘˜å·¥æœç´¢å’Œå®šä½åŠŸèƒ½
- å“åº”å¼Webç•Œé¢è®¾è®¡

## ğŸ“‹ å½“å‰çŠ¶æ€ - M0 é‡Œç¨‹ç¢‘ âœ…

**å·²å®ŒæˆåŠŸèƒ½ï¼š**
- âœ… åŸºç¡€é¡¹ç›®æ¶æ„æ­å»º
- âœ… DeptMapæ ¸å¿ƒç»„ä»¶å®ç°
- âœ… d3-zoomåœ°å›¾äº¤äº’åŠŸèƒ½
- âœ… æ¨¡æ‹Ÿæ•°æ®å’Œå·¥ä½æ¸²æŸ“
- âœ… å“åº”å¼UIç•Œé¢
- âœ… Gitç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯æŠ€æœ¯
- **React 18** - ç”¨æˆ·ç•Œé¢æ¡†æ¶
- **TypeScript 5** - ç±»å‹å®‰å…¨çš„JavaScript
- **Vite 4** - å¿«é€Ÿæ„å»ºå·¥å…·
- **TailwindCSS 3** - åŸå­åŒ–CSSæ¡†æ¶
- **d3-zoom 3** - åœ°å›¾ç¼©æ”¾å’Œå¹³ç§»äº¤äº’
- **d3-selection** - DOMæ“ä½œå’Œäº‹ä»¶å¤„ç†
- **Zustand** - è½»é‡çº§çŠ¶æ€ç®¡ç†

### åç«¯æŠ€æœ¯
- **Express 4** - Node.js Webæ¡†æ¶
- **TypeScript 5** - åç«¯ç±»å‹å®‰å…¨
- **Zod 3** - æ•°æ®éªŒè¯åº“
- **Prisma 5** - æ•°æ®åº“ORMï¼ˆå¾…é›†æˆï¼‰

### å¼€å‘å·¥å…·
- **ESLint** - ä»£ç è´¨é‡æ£€æŸ¥
- **Prettier** - ä»£ç æ ¼å¼åŒ–
- **Nodemon** - åç«¯çƒ­é‡è½½
- **Concurrently** - å¹¶å‘è¿è¡Œå‰åç«¯æœåŠ¡

## ğŸ“ é¡¹ç›®ç»“æ„è¯¦è§£

```
éƒ¨é—¨åœ°å›¾/
â”œâ”€â”€ ğŸ“‚ api/                    # åç«¯APIæœåŠ¡ç›®å½•
â”‚   â”œâ”€â”€ ğŸ“‚ routes/             # APIè·¯ç”±å®šä¹‰
â”‚   â”œâ”€â”€ ğŸ“‚ middleware/         # Expressä¸­é—´ä»¶
â”‚   â”œâ”€â”€ ğŸ“‚ models/             # æ•°æ®æ¨¡å‹å®šä¹‰
â”‚   â”œâ”€â”€ ğŸ“„ server.ts           # ExpressæœåŠ¡å™¨å…¥å£æ–‡ä»¶
â”‚   â””â”€â”€ ğŸ“„ types.ts            # åç«¯ç±»å‹å®šä¹‰
â”œâ”€â”€ ğŸ“‚ src/                    # å‰ç«¯æºç ç›®å½•
â”‚   â”œâ”€â”€ ğŸ“‚ components/         # Reactç»„ä»¶åº“
â”‚   â”‚   â””â”€â”€ ğŸ“„ DeptMap.tsx     # æ ¸å¿ƒåœ°å›¾ç»„ä»¶
â”‚   â”œâ”€â”€ ğŸ“‚ hooks/              # è‡ªå®šä¹‰React Hooks
â”‚   â”œâ”€â”€ ğŸ“‚ pages/              # é¡µé¢çº§ç»„ä»¶
â”‚   â”œâ”€â”€ ğŸ“‚ utils/              # å·¥å…·å‡½æ•°åº“
â”‚   â”œâ”€â”€ ğŸ“„ App.tsx             # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ ğŸ“„ main.tsx            # Reactåº”ç”¨å…¥å£
â”‚   â””â”€â”€ ğŸ“„ index.css           # å…¨å±€æ ·å¼æ–‡ä»¶
â”œâ”€â”€ ğŸ“‚ public/                 # é™æ€èµ„æºç›®å½•
â”œâ”€â”€ ğŸ“‚ .trae/                  # é¡¹ç›®æ–‡æ¡£ç›®å½•
â”‚   â””â”€â”€ ğŸ“‚ documents/          # éœ€æ±‚å’Œæ¶æ„æ–‡æ¡£
â”œâ”€â”€ ğŸ“„ package.json            # é¡¹ç›®ä¾èµ–å’Œè„šæœ¬é…ç½®
â”œâ”€â”€ ğŸ“„ vite.config.ts          # Viteæ„å»ºé…ç½®
â”œâ”€â”€ ğŸ“„ tailwind.config.js      # TailwindCSSé…ç½®
â”œâ”€â”€ ğŸ“„ tsconfig.json           # TypeScriptç¼–è¯‘é…ç½®
â”œâ”€â”€ ğŸ“„ nodemon.json            # Nodemonçƒ­é‡è½½é…ç½®
â”œâ”€â”€ ğŸ“„ CHANGELOG.md            # ç‰ˆæœ¬æ›´æ–°æ—¥å¿—
â””â”€â”€ ğŸ“„ README.md               # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## ğŸ”§ å¼€å‘æŒ‡å—

### ç¯å¢ƒè¦æ±‚
- Node.js >= 18.0.0
- npm >= 9.0.0
- Git >= 2.30.0

### å¿«é€Ÿå¼€å§‹

1. **å…‹éš†é¡¹ç›®**
```bash
git clone <repository-url>
cd éƒ¨é—¨åœ°å›¾
```

2. **å®‰è£…ä¾èµ–**
```bash
npm install
```

3. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
```bash
npm run dev
```
è®¿é—® http://localhost:5173 æŸ¥çœ‹å‰ç«¯ç•Œé¢
è®¿é—® http://localhost:3001 æŸ¥çœ‹åç«¯API

4. **æ„å»ºç”Ÿäº§ç‰ˆæœ¬**
```bash
npm run build
```

### å¯ç”¨è„šæœ¬

- `npm run dev` - å¯åŠ¨å‰åç«¯å¼€å‘æœåŠ¡å™¨
- `npm run client:dev` - ä»…å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
- `npm run server:dev` - ä»…å¯åŠ¨åç«¯å¼€å‘æœåŠ¡å™¨
- `npm run build` - æ„å»ºç”Ÿäº§ç‰ˆæœ¬
- `npm run preview` - é¢„è§ˆç”Ÿäº§æ„å»º
- `npm run lint` - è¿è¡ŒESLintæ£€æŸ¥

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½è¯´æ˜

### DeptMapç»„ä»¶ (`src/components/DeptMap.tsx`)
- **åœ°å›¾æ¸²æŸ“**ï¼šåŸºäºSVGçš„2Dåœ°å›¾å¯è§†åŒ–
- **å·¥ä½æ˜¾ç¤º**ï¼šåœ†å½¢å·¥ä½å›¾æ ‡ï¼Œé¢œè‰²è¡¨ç¤ºçŠ¶æ€
- **äº¤äº’åŠŸèƒ½**ï¼šç‚¹å‡»å·¥ä½æŸ¥çœ‹è¯¦æƒ…ï¼Œæ”¯æŒç¼©æ”¾å¹³ç§»
- **çŠ¶æ€ç®¡ç†**ï¼šå®æ—¶æ›´æ–°å‘˜å·¥åœ¨çº¿/ç¦»çº¿çŠ¶æ€

### çŠ¶æ€é¢œè‰²è¯´æ˜
- ğŸŸ¢ **ç»¿è‰²** - å‘˜å·¥åœ¨çº¿
- ğŸ”´ **çº¢è‰²** - å‘˜å·¥ç¦»çº¿
- âšª **ç°è‰²** - å·¥ä½ç©ºé—²

### æ¨¡æ‹Ÿæ•°æ®ç»“æ„
```typescript
interface Desk {
  id: string;           // å·¥ä½å”¯ä¸€æ ‡è¯†
  x: number;            // Xåæ ‡ä½ç½®
  y: number;            // Yåæ ‡ä½ç½®
  employee?: Employee;  // åˆ†é…çš„å‘˜å·¥ä¿¡æ¯
}

interface Employee {
  id: string;           // å‘˜å·¥ID
  name: string;         // å‘˜å·¥å§“å
  department: string;   // æ‰€å±éƒ¨é—¨
  isOnline: boolean;    // åœ¨çº¿çŠ¶æ€
}
```

## ğŸ”„ Gitç‰ˆæœ¬ç®¡ç†è§„èŒƒ

### æäº¤ä¿¡æ¯æ ¼å¼
```
<type>: <description>

typeç±»å‹ï¼š
- feat: æ–°åŠŸèƒ½
- fix: ä¿®å¤bug
- docs: æ–‡æ¡£æ›´æ–°
- style: ä»£ç æ ¼å¼è°ƒæ•´
- refactor: ä»£ç é‡æ„
- test: æµ‹è¯•ç›¸å…³
- chore: æ„å»ºå·¥å…·æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨
```

### ç‰ˆæœ¬æ ‡ç­¾è§„èŒƒ
- é‡‡ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶ (Semantic Versioning)
- æ ¼å¼ï¼š`v<major>.<minor>.<patch>_<description>`
- ç¤ºä¾‹ï¼š`v1.0.1_åœ°å›¾å›¾å±‚ä¼˜åŒ–`

## ğŸ“ˆ å¼€å‘è·¯çº¿å›¾

### M1 é‡Œç¨‹ç¢‘ (è®¡åˆ’ä¸­)
- [ ] åç«¯APIæ¥å£å®ç°
- [ ] PostgreSQLæ•°æ®åº“é›†æˆ
- [ ] Prisma ORMé…ç½®
- [ ] ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
- [ ] å®æ—¶WebSocketè¿æ¥

### M2 é‡Œç¨‹ç¢‘ (è®¡åˆ’ä¸­)
- [ ] äººå‘˜æœç´¢åŠŸèƒ½
- [ ] ç®¡ç†å‘˜é¢æ¿
- [ ] æ•°æ®å¯¼å…¥å¯¼å‡º
- [ ] ç§»åŠ¨ç«¯é€‚é…

## ğŸ› é—®é¢˜æ’æŸ¥

### å¸¸è§é—®é¢˜
1. **ç«¯å£å ç”¨**ï¼šç¡®ä¿5173å’Œ3001ç«¯å£æœªè¢«å ç”¨
2. **ä¾èµ–å®‰è£…å¤±è´¥**ï¼šåˆ é™¤node_modulesåé‡æ–°å®‰è£…
3. **TypeScripté”™è¯¯**ï¼šæ£€æŸ¥tsconfig.jsoné…ç½®
4. **Gitå‘½ä»¤å¤±è´¥**ï¼šç¡®ä¿Gitå·²æ­£ç¡®å®‰è£…å¹¶é…ç½®PATH

### è°ƒè¯•æŠ€å·§
- ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·æŸ¥çœ‹æ§åˆ¶å°é”™è¯¯
- æ£€æŸ¥ç½‘ç»œè¯·æ±‚çŠ¶æ€
- æŸ¥çœ‹ç»ˆç«¯è¾“å‡ºçš„è¯¦ç»†é”™è¯¯ä¿¡æ¯

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'feat: Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

---

**é¡¹ç›®çŠ¶æ€**: ğŸš§ å¼€å‘ä¸­ | **å½“å‰ç‰ˆæœ¬**: v1.0.0 | **æœ€åæ›´æ–°**: 2025-01-24
