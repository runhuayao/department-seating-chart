# ===========================================
# 部门地图系统 v3.1.0 环境配置模板
# ===========================================

# 应用基础配置
NODE_ENV=production
PORT=3000
WS_PORT=8080
APP_NAME=部门地图系统
APP_VERSION=3.1.0

# 数据库配置
DATABASE_URL=postgresql://username:password@localhost:5432/department_map
POSTGRES_DB=department_map
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_secure_password_here

# Redis配置
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password_here
REDIS_DB=0

# JWT认证配置
JWT_SECRET=your_jwt_secret_key_here_minimum_32_characters
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# Supabase配置
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your_supabase_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here

# 文件上传配置
UPLOAD_MAX_SIZE=10485760
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,application/pdf
UPLOAD_PATH=./uploads

# 邮件服务配置
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_email_password
SMTP_FROM=noreply@yourcompany.com

# 系统监控配置
MONITORING_ENABLED=true
MONITORING_INTERVAL=30000
ALERT_EMAIL=admin@yourcompany.com
ALERT_WEBHOOK=https://hooks.slack.com/your-webhook-url

# 性能配置
CACHE_TTL=3600
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=100
CONNECTION_POOL_MIN=2
CONNECTION_POOL_MAX=20

# WebSocket配置
WS_HEARTBEAT_INTERVAL=30000
WS_CONNECTION_TIMEOUT=60000
WS_MAX_CONNECTIONS=1000
WS_RATE_LIMIT=50

# 安全配置
CORS_ORIGIN=http://localhost:3000,https://yourdomain.com
CSRF_SECRET=your_csrf_secret_here
SESSION_SECRET=your_session_secret_here
ENCRYPTION_KEY=your_32_character_encryption_key_here

# 日志配置
LOG_LEVEL=info
LOG_FILE=./logs/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5
LOG_DATE_PATTERN=YYYY-MM-DD

# 第三方服务配置
# 地图服务
MAP_API_KEY=your_map_api_key_here
MAP_PROVIDER=baidu

# 短信服务
SMS_PROVIDER=aliyun
SMS_ACCESS_KEY=your_sms_access_key
SMS_SECRET_KEY=your_sms_secret_key
SMS_SIGN_NAME=your_sms_sign_name

# 对象存储配置
OSS_PROVIDER=aliyun
OSS_ACCESS_KEY=your_oss_access_key
OSS_SECRET_KEY=your_oss_secret_key
OSS_BUCKET=your_bucket_name
OSS_REGION=oss-cn-hangzhou
OSS_ENDPOINT=https://oss-cn-hangzhou.aliyuncs.com

# Docker部署配置
DOCKER_REGISTRY=registry.cn-hangzhou.aliyuncs.com
DOCKER_NAMESPACE=your_namespace
DOCKER_IMAGE_TAG=v3.1.0

# Grafana监控配置
GRAFANA_USER=admin
GRAFANA_PASSWORD=your_grafana_password_here

# Prometheus配置
PROMETHEUS_RETENTION=200h
PROMETHEUS_SCRAPE_INTERVAL=15s

# 备份配置
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=./backups

# 集群配置（如果使用集群部署）
CLUSTER_ENABLED=false
CLUSTER_NODES=node1:3000,node2:3000,node3:3000
CLUSTER_REDIS_SENTINEL=sentinel1:26379,sentinel2:26379,sentinel3:26379

# 开发环境特定配置
# DEV_MOCK_DATA=true
# DEV_DEBUG_SQL=true
# DEV_HOT_RELOAD=true

# 测试环境特定配置
# TEST_DATABASE_URL=postgresql://test_user:test_pass@localhost:5432/department_map_test
# TEST_REDIS_DB=1

# 生产环境特定配置
# PROD_SSL_CERT_PATH=/etc/ssl/certs/cert.pem
# PROD_SSL_KEY_PATH=/etc/ssl/private/key.pem
# PROD_CLUSTER_MODE=true
# PROD_MONITORING_ALERTS=true

# ===========================================
# 配置说明：
# 1. 请根据实际部署环境修改相应的配置值
# 2. 生产环境请使用强密码和安全的密钥
# 3. 数据库和Redis连接信息需要与实际服务匹配
# 4. 第三方服务配置需要申请相应的API密钥
# 5. 监控和日志配置可根据需要调整
# ===========================================